name: propose update workflow
on:
  workflow_dispatch:
    inputs:
      oga_no:
        description: 'Boat OGA No'
        required: true
      data:
        description: 'new values'
        required: true
jobs:
  boat_job:
    runs-on: ubuntu-latest
    name: A job to propose and update to a boat
    steps:
    - uses: actions/checkout@v3
    - name: boat
      run: |
        git checkout -b up${{ github.event.inputs.oga_no }}
        cat <<EOF >data.json
        ${{ github.event.inputs.data }}
        EOF
        cat data.json
        ./make_boat_yaml_from_stdin < data.json
        rm data.json
        git add .
        git commit . -m "from user"
    - name: push
      run: |
        git push -u origin up${{ github.event.inputs.oga_no }}